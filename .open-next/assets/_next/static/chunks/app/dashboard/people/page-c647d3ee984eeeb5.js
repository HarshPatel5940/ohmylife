(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[735],{4419:function(e,s,a){Promise.resolve().then(a.bind(a,5081))},3009:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(3558).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},4422:function(e,s,a){"use strict";a.d(s,{Z:function(){return t}});/**
 * @license lucide-react v0.427.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,a(3558).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},5081:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return v}});var t=a(9533),l=a(1229),n=a(220),i=a(3191),r=a(2238),c=a(4912),d=a(3103),o=a(322),h=a(3009),m=a(4422),x=a(6513),u=a(1301),p=a(3823),j=a(5126),f=a(2374),g=a(8070);function v(){let[e,s]=(0,l.useState)([]),[a,v]=(0,l.useState)(!1),[N,y]=(0,l.useState)(!0),[w,b]=(0,l.useState)(null),[k,C]=(0,l.useState)(!1),[S,P]=(0,l.useState)(null),[E,Z]=(0,l.useState)(""),[_,z]=(0,l.useState)(""),[A,T]=(0,l.useState)(""),[F,O]=(0,l.useState)(""),[Q,q]=(0,l.useState)("active");(0,l.useEffect)(()=>{D()},[]);let D=async()=>{try{let e=await fetch("/api/people");if(e.ok){let a=await e.json();s(a)}}finally{y(!1)}},I=e=>{e?(b(e),Z(e.name),z(e.role||""),T(e.email||""),O(e.phone||""),q(e.status||"active")):L(),v(!0)},L=()=>{b(null),Z(""),z(""),T(""),O(""),q("active")},U=async e=>{if(e.preventDefault(),E.trim())try{let e={name:E,role:_,email:A,phone:F,status:Q};w?(await fetch("/api/people/".concat(w.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&(v(!1),L(),D()):(await fetch("/api/people",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&(v(!1),L(),D())}catch(e){console.error(e)}},$=e=>{P(e),C(!0)},B=async()=>{if(S)try{(await fetch("/api/people/".concat(S.id),{method:"DELETE"})).ok&&(D(),C(!1),P(null))}catch(e){console.error(e)}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"People"}),(0,t.jsxs)(n.z,{onClick:()=>I(),children:[(0,t.jsx)(c.Z,{className:"mr-2 h-4 w-4"})," Add Person"]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,t.jsx)(r.Zb,{children:(0,t.jsxs)(r.aY,{className:"p-6 flex items-center space-x-4",children:[(0,t.jsxs)(p.qE,{className:"h-12 w-12",children:[(0,t.jsx)(p.F$,{src:"https://api.dicebear.com/7.x/initials/svg?seed=".concat(e.name)}),(0,t.jsx)(p.Q5,{children:e.name.substring(0,2).toUpperCase()})]}),(0,t.jsxs)("div",{className:"space-y-1 flex-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.name}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)(n.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>I(e),children:(0,t.jsx)(d.Z,{className:"h-4 w-4"})}),(0,t.jsx)(n.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",onClick:()=>$(e),children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(u.C,{variant:"active"===e.status?"default":"secondary",children:e.status})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.role}),e.email&&(0,t.jsxs)("div",{className:"flex items-center text-xs text-gray-400 mt-1",children:[(0,t.jsx)(h.Z,{className:"h-3 w-3 mr-1"})," ",e.email]}),e.phone&&(0,t.jsxs)("div",{className:"flex items-center text-xs text-gray-400 mt-1",children:[(0,t.jsx)(m.Z,{className:"h-3 w-3 mr-1"})," ",e.phone]})]})]})},e.id))}),(0,t.jsx)(f.Vq,{open:a,onOpenChange:e=>{v(e),e||L()},children:(0,t.jsxs)(f.cZ,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(f.fK,{children:[(0,t.jsx)(f.$N,{children:w?"Edit Person":"Add New Person"}),(0,t.jsx)(f.Be,{children:w?"Update team member details.":"Add a new team member."})]}),(0,t.jsxs)("form",{onSubmit:U,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"name",className:"text-right",children:"Name"}),(0,t.jsx)(i.I,{id:"name",value:E,onChange:e=>Z(e.target.value),className:"col-span-3",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"role",className:"text-right",children:"Role"}),(0,t.jsx)(i.I,{id:"role",value:_,onChange:e=>z(e.target.value),className:"col-span-3",placeholder:"e.g. Developer"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"email",className:"text-right",children:"Email"}),(0,t.jsx)(i.I,{id:"email",type:"email",value:A,onChange:e=>T(e.target.value),className:"col-span-3"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"phone",className:"text-right",children:"Phone"}),(0,t.jsx)(i.I,{id:"phone",type:"tel",value:F,onChange:e=>O(e.target.value),className:"col-span-3",placeholder:"+1 234 567 8900"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(x._,{htmlFor:"status",className:"text-right",children:"Status"}),(0,t.jsxs)(g.Ph,{value:Q,onValueChange:q,children:[(0,t.jsx)(g.i4,{className:"col-span-3",children:(0,t.jsx)(g.ki,{})}),(0,t.jsxs)(g.Bw,{children:[(0,t.jsx)(g.Ql,{value:"active",children:"Active"}),(0,t.jsx)(g.Ql,{value:"hiring",children:"Hiring"}),(0,t.jsx)(g.Ql,{value:"inactive",children:"Inactive"}),(0,t.jsx)(g.Ql,{value:"terminated",children:"Terminated"})]})]})]})]}),(0,t.jsx)(f.cN,{children:(0,t.jsx)(n.z,{type:"submit",children:w?"Update Person":"Save Person"})})]})]})}),(0,t.jsx)(j.Q,{open:k,onOpenChange:C,onConfirm:B,title:"Delete Person",description:"Are you sure you want to delete ".concat(null==S?void 0:S.name,"? This action cannot be undone."),confirmText:"Delete"})]})}},3823:function(e,s,a){"use strict";a.d(s,{F$:function(){return r},Q5:function(){return c},qE:function(){return i}});var t=a(9533);a(1229);var l=a(4159),n=a(2284);function i(e){let{className:s,...a}=e;return(0,t.jsx)(l.fC,{"data-slot":"avatar",className:(0,n.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...a})}function r(e){let{className:s,...a}=e;return(0,t.jsx)(l.Ee,{"data-slot":"avatar-image",className:(0,n.cn)("aspect-square size-full",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)(l.NY,{"data-slot":"avatar-fallback",className:(0,n.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...a})}}},function(e){e.O(0,[890,396,656,49,904,389,170,842,744],function(){return e(e.s=4419)}),_N_E=e.O()}]);